# 深度学习之图像分类学习记录

## 一、numpy基础

 numpy数据结构是n维的数组对象，叫做ndarray。Python的list虽然也能表示，但是不高效，随着列表数据的增加，效率会降低。其中，切片操作及其相关符号非常重要：

":"用以表示当前维度的所有子模块；

"-1"用以表示当前维度所有子模块最后一个，"负号用以表示从后往前数的元素,-n即是表示从后往前数的第n个元素"；

：：的含义——start : end : step。

### 1.一维数组处理

```python
#导入包并重命名
import numpy as np

#定义一维数组
a = np.array([2, 0, 1, 5, 8, 3])
print u'原始数据:', a

#输出最大、最小值及形状
print u'最小值:', a.min()
print u'最大值:', a.max()
print u'形状', a.shape

#数据切片
print u'切片操作:'
print a[:-2]
print a[-2:]
print a[:1]

#排序
print type(a)
a.sort()
print u'排序后:', a
```

输出：

```python
原始数据: [2 0 1 5 8 3]
最小值: 0
最大值: 8
形状 (6L,)
切片操作:
[2 0 1 5]
[8 3]
[2]
<type 'numpy.ndarray'>
排序后: [0 1 2 3 5 8]
```

注释：
1.代码通过np.array定义了一个数组[2, 0, 1, 5, 8, 3]，其中min计算最小值，max计算最大值，shape表示数组的形状，因为是一维数组，故6L（6个数字）。

2.最重要的一个知识点是数组的切片操作，因为在数据分析过程中，通常会对数据集进行"80%-20%"或"70%-30%"的训练集和测试集划分，通常采用的方法就是切片。
(1)a[:-2]表示从头开始获取，"-2"表示后面两个值不取，结果：[2 0 1 5]
(2)a[-2:]表示后往前数两个数字，获取数字至结尾，即获取最后两个值[8 3]
(3)a[:1]表示从头开始获取，获取1个数字，即[2]

### 2.二维数组处理

``` python
#定义二维数组
import numpy as np
c = np.array([[1, 2, 3, 4],[4, 5, 6, 7], [7, 8, 9, 10]])
 
#获取值
print u'形状:', c.shape
print u'获取值:', c[1][0]
print u'获取某行:'
print c[1][:]
print u'获取某行并切片:'
print c[0][:-1]
print c[0][-1:]
 
#获取具体某列值
print u'获取第3列:'
print c[:,np.newaxis, 2]
 
#调用sin函数
print np.sin(np.pi/6)
print type(np.sin(0.5))
 
#范围定义
print np.arange(0,4)
print type(np.arange(0,4))
```

输出结果：

``` python
形状: (3L, 4L)
获取值: 4
获取某行:
[4 5 6 7]
获取某行并切片:
[1 2 3]
[4]
获取第3列:
[[3]
 [6]
 [9]]
0.5
<type 'numpy.float64'>
[0 1 2 3]
<type 'numpy.ndarray'>
```

注释：

1.定义二维数组括号不要弄错，正确的应该是：[[1,2,3],[4,5,6]], 同时计算机的存储下标都是从0开始计算的。

2.获取二维数组中的某行，如第2行数据[4,5,6,7]，采用方法是:c[1] [:]。

3.获取二维数组中的某列，如第3列数据[[3] [6] [9]]，c[:,np.newaxis, 2]。因为通常在数据可视化中采用获取某列数据作为x或y坐标，同时多维数据也可以采用PCA降低成两维数据，再进行显示

## 二、pandas基础

Pandas是面板数据（Panel Data）的简写。它是Python最强大的数据分析和探索工具，因金融数据分析工具而开发，支持类似SQL的数据增删改查，支持时间序列分析，灵活处理缺失数据。它有两个主要的数据结构，Series和DataFrame，记住大小写区分。其中，相关知识需要了解：

data.describe()输出的相关信息——count：总数；mean：均值；std：标准差；min：最小值；25%：四分之一分位数；50%：中位数；75%：四分之三分位数；max：最大值；



### 1.读写文件

对于电力用户数据集missing_data.xls文件，内容如下，共3列数据，分别是用户A、用户B、用户C，共21行，对应21天的用电量，其中包含缺失值。

```python
235.8333	324.0343	478.3231
236.2708	325.6379	515.4564
238.0521	328.0897	517.0909
235.9063		        514.89
236.7604	268.8324	
	        404.048     486.0912
237.4167	391.2652	516.233
238.6563	380.8241	
237.6042	388.023	    435.3508
238.0313	206.4349	487.675
235.0729		
235.5313	400.0787	660.2347
	        411.2069	621.2346
234.4688	395.2343	611.3408
235.5	    344.8221	643.0863
235.6354	385.6432	642.3482
234.5521	401.6234	
236	        409.6489	602.9347
235.2396	416.8795	589.3457
235.4896		        556.3452
236.9688		        538.347
```

输入：

```python
#读取数据 header设置Excel无标题头
import pandas as pd
data = pd.read_excel("missing_data.xls", header=None) 
print data
 
#计算数据长度
print u'行数', len(data)
 
#计算用户A\B\C用电总和
print data.sum()
 
#计算用户A\B\C用点量算术平均数
mm = data.sum()
print mm
 
#输出预览前5行数据
print u'预览前5行数据'
print data.head()
 
#输出数据基本统计量
print u'输出数据基本统计量'
print data.describe()
```

输出：

```python
           0         1         2
0   235.8333  324.0343  478.3231
1   236.2708  325.6379  515.4564
2   238.0521  328.0897  517.0909
3   235.9063       NaN  514.8900
4   236.7604  268.8324       NaN
5        NaN  404.0480  486.0912
6   237.4167  391.2652  516.2330
7   238.6563  380.8241       NaN
8   237.6042  388.0230  435.3508
...
行数 21
0    4488.9899
1    6182.3265
2    9416.3276
dtype: float64
0    4488.9899
1    6182.3265
2    9416.3276
dtype: float64
预览前5行数据
          0         1         2
0  235.8333  324.0343  478.3231
1  236.2708  325.6379  515.4564
2  238.0521  328.0897  517.0909
3  235.9063       NaN  514.8900
4  236.7604  268.8324       NaN
输出数据基本统计量
                0           1           2
count   19.000000   17.000000   17.000000
mean   236.262626  363.666265  553.901624
std      1.225465   57.600529   67.707729
min    234.468800  206.434900  435.350800
25%           NaN         NaN         NaN
50%           NaN         NaN         NaN
75%           NaN         NaN         NaN
max    238.656300  416.879500  660.234700
```

注释：

1.因为Excel表格中存在空值，故Python显示为NaN（Not a Number）表示空。

### 2.Series

 Series是一维标记数组，可以存储任意数据类型，如整型、字符串、浮点型和Python对象等，轴标一般指索引。
Series、Numpy中的一维array 、Python基本数据结构List区别：List中的元素可以是不同的数据类型，而Array和Series中则只允许存储相同的数据类型，这样可以更有效的使用内存，提高运算效率。

















